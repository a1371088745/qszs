<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学生分数</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/layui/css/layui.css"  media="all">
</head>
<body>
<table class="layui-hide" id="t" lay-filter="test"></table>
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="downLoad" >下载</a>
</script>
<script src="/layui/layui.all.js" charset="utf-8"></script>
<script>
    layui.use(['table','form'], function() {
        var $=layui.$
        var table = layui.table;
        //方法级渲染
        var tableIns = table.render({
            elem: '#t'
            , url: '/file/readAllFile'
            , cols: [
                [
                     {field: 'filesName', title: '文件名', width: 120, fixed: 'left', unresize: true, sort: true}
                    ,{fixed: 'right', title:'操作', toolbar: '#barDemo', width:200}
                ]
            ]

        });
        table.on('tool(test)', function(obj) {
            var data = obj.data;
            if (obj.event === 'downLoad') {
                    window.location.href="/file/fileDownload?fileName="+data.filesName;
            }
        })
    })


</script>
</body>
</html>